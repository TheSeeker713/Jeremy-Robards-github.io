<!doctype html>
<script>
document.addEventListener('DOMContentLoaded', function () {
    // Inject styles
    const style = document.createElement('style');
    style.textContent = `
    /* Overlay UI */
    #errOverlay {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        gap: 18px;
        z-index: 99999;
        pointer-events: auto;
        background: transparent;
        transition: background-color 420ms ease, opacity 420ms ease;
        -webkit-font-smoothing: antialiased;
    }
    #errBox {
        text-align: center;
        user-select: none;
        transform: translateZ(0);
        will-change: opacity, transform;
    }
    .err-title {
        font-weight: 900;
        line-height: 0.9;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        font-size: clamp(28px, 12vw, 140px);
        letter-spacing: 0.02em;
        background: linear-gradient(90deg, #ff6b6b, #ffd166, #ffffff);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 12px 40px rgba(0,0,0,0.55);
    }
    .err-sub {
        margin-top: 6px;
        color: rgba(255,255,255,0.85);
        font-size: clamp(12px, 2.5vw, 22px);
        opacity: 0.95;
    }
    .err-timer {
        margin-top: 22px;
        font-weight: 900;
        font-size: clamp(30px, 9vw, 96px);
        background: linear-gradient(90deg,#ffffff,#ffd86b);
        -webkit-background-clip: text;
        color: transparent;
        background-clip: text;
        text-shadow: 0 10px 28px rgba(0,0,0,0.5);
    }

    /* Particles for explosion */
    .particle {
        position: absolute;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        pointer-events: none;
        will-change: transform, opacity;
        mix-blend-mode: screen;
        filter: drop-shadow(0 6px 18px rgba(255,150,40,0.25));
    }
    `;
    document.head.appendChild(style);

    // Create overlay
    const overlay = document.createElement('div');
    overlay.id = 'errOverlay';

    const box = document.createElement('div');
    box.id = 'errBox';

    const title = document.createElement('div');
    title.className = 'err-title';
    title.textContent = 'err0r: It is not time';

    const sub = document.createElement('div');
    sub.className = 'err-sub';
    sub.textContent = '11.11.2025 - Be Ready';

    const timer = document.createElement('div');
    timer.className = 'err-timer';
    timer.setAttribute('aria-live', 'polite');
    timer.textContent = '00:22';

    box.appendChild(title);
    box.appendChild(sub);
    box.appendChild(timer);
    overlay.appendChild(box);
    document.body.appendChild(overlay);

    // Countdown logic (22 seconds)
    let secondsLeft = 22;
    function formatTime(s) {
        const mm = Math.floor(s / 60).toString().padStart(2,'0');
        const ss = (s % 60).toString().padStart(2,'0');
        return mm + ':' + ss;
    }
    timer.textContent = formatTime(secondsLeft);

    const tick = setInterval(() => {
        secondsLeft--;
        if (secondsLeft < 0) {
            clearInterval(tick);
            runExplosionSequence();
            return;
        }
        timer.textContent = formatTime(secondsLeft);
    }, 1000);

    // Explosion sequence then fade to black, wait 5s, redirect
    function runExplosionSequence() {
        // Hide timer/labels gracefully
        box.style.transition = 'opacity 300ms ease, transform 700ms cubic-bezier(.2,.9,.2,1)';
        box.style.opacity = '0';
        box.style.transform = 'scale(0.98)';

        // Quick bright flash
        overlay.style.backgroundColor = 'rgba(255,255,255,0.95)';

        // Create particles radiating across the screen
        const particleCount = 110;
        const particles = [];
        const rect = overlay.getBoundingClientRect();
        const cx = rect.width / 2;
        const cy = rect.height / 2;

        for (let i = 0; i < particleCount; i++) {
            const p = document.createElement('div');
            p.className = 'particle';
            // vibrant colors
            const hue = Math.floor(Math.random() * 50) + 10; // orange-yellow range
            const sat = 80 + Math.floor(Math.random()*20);
            const light = 50 + Math.floor(Math.random()*20);
            p.style.background = `hsl(${hue} ${sat}% ${light}%)`;
            p.style.left = cx + 'px';
            p.style.top = cy + 'px';
            p.style.opacity = '1';
            overlay.appendChild(p);
            particles.push(p);
        }

        // Trigger movement on next frame to allow transitions
        requestAnimationFrame(() => {
            particles.forEach((p, i) => {
                const angle = (Math.random() * Math.PI * 2);
                const distance = 120 + Math.random() * Math.max(window.innerWidth, window.innerHeight) * 1.2;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                const rotate = (Math.random() * 720) - 360;
                const duration = 650 + Math.random() * 850; // ms

                p.style.transition = `transform ${duration}ms cubic-bezier(.06,.9,.19,1), opacity ${duration}ms linear`;
                p.style.transform = `translate(${dx}px, ${dy}px) rotate(${rotate}deg) scale(${0.6 + Math.random()*1.6})`;
                p.style.opacity = '0';
            });
        });

        // After a brief moment, fade to black
        setTimeout(() => {
            overlay.style.transition = 'background-color 700ms ease, opacity 700ms ease';
            overlay.style.backgroundColor = 'black';
        }, 160);

        // Clean up particles after animation
        setTimeout(() => {
            particles.forEach(p => p.remove());
        }, 1800);

        // Invisible timer: wait 5 seconds while screen is black, then redirect
        setTimeout(() => {
            // ensure totally black and hide overlay content
            box.remove();
            // keep overlay present but invisible cursor/interaction not needed
            overlay.style.pointerEvents = 'none';
            // Wait 5 seconds then navigate
            setTimeout(() => {
                // final redirect
                try {
                    window.location.href = 'https://www.p3epro.com';
                } catch (e) {
                    // fallback: create link and click
                    const a = document.createElement('a');
                    a.href = 'https://www.p3epro.com';
                    a.rel = 'noopener noreferrer';
                    document.body.appendChild(a);
                    a.click();
                }
            }, 5000);
        }, 900); // give explosion + fade a moment before invisible wait
    }
});
</script>
<html lang="en" class="h-full bg-black text-white">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>713 â€” A Secret is Coming</title>

    <!-- Tailwind CDN for rapid prototyping -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* custom animations used with Tailwind utility classes */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .anim-float { animation: float 6s ease-in-out infinite; }

        @keyframes pulse-ghost {
            0% { opacity: 0.06; transform: scale(1); }
            50% { opacity: 0.22; transform: scale(1.02); }
            100% { opacity: 0.06; transform: scale(1); }
        }
        .anim-ghost { animation: pulse-ghost 4s ease-in-out infinite; }

        @keyframes flicker {
            0% { opacity: 1; filter: drop-shadow(0 0 12px rgba(120,43,255,0.6)); }
            5% { opacity: .4; filter: none; }
            10% { opacity: 1; filter: drop-shadow(0 0 18px rgba(120,43,255,0.8)); }
            100% { opacity: 1; }
        }
        .anim-flicker { animation: flicker 3.6s linear infinite; }

        /* starfield points */
        .star { width: 2px; height: 2px; background: rgba(255,255,255,0.85); border-radius: 999px; position: absolute; opacity: 0.9; }

        /* subtle glass panel */
        .glass {
            background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            backdrop-filter: blur(6px) saturate(120%);
            border: 1px solid rgba(255,255,255,0.04);
        }
    </style>
</head>
<body class="h-full antialiased selection:bg-purple-700 selection:text-white">

    <main class="min-h-screen flex items-center justify-center px-6">
        <div class="relative w-full max-w-3xl">

            <!-- starfield -->
            <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
                <div id="starfield" class="w-full h-full"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/30 to-black/80"></div>
            </div>

            <section class="glass rounded-2xl p-10 sm:p-16 text-center shadow-2xl">
                <div class="mx-auto max-w-xl">
                    <h1 class="text-6xl sm:text-7xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-indigo-400 to-cyan-300 drop-shadow-lg anim-flicker">
                        7 1 3
                    </h1>

                    <p class="mt-4 text-lg text-gray-300 anim-float">
                        Something secret is forming. A hush of code, a whisper of intent. Be ready.
                    </p>

                    <div class="mt-8">
                        <div class="inline-flex items-center gap-3">
                            <span class="inline-block w-3 h-3 rounded-full bg-purple-400 animate-pulse shadow-sm"></span>
                            <span class="text-sm text-gray-400">Secret drop â€” coming soon</span>
                        </div>
                    </div>

                    <!-- reveal animation placeholder -->
                    <div id="mystic" class="mt-8">
                        <div class="mx-auto w-40 h-40 rounded-full bg-gradient-to-br from-purple-900 via-indigo-900 to-black flex items-center justify-center shadow-inner anim-ghost">
                            <svg id="sigil" class="w-20 h-20 opacity-90" viewBox="0 0 24 24" fill="none" stroke="url(#g)" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                                <defs>
                                    <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                                        <stop offset="0" stop-color="#8b5cf6"/>
                                        <stop offset="1" stop-color="#06b6d4"/>
                                    </linearGradient>
                                </defs>
                                <circle cx="12" cy="12" r="7"></circle>
                                <path d="M8 12h8"></path>
                                <path d="M12 8v8"></path>
                            </svg>
                        </div>
                    </div>

                    <!-- subscription form (Mailchimp placeholder) -->
                    <form id="subscribeForm" class="mt-10 flex flex-col sm:flex-row gap-3 items-center justify-center" method="POST" action="MAILCHIMP_FORM_ACTION_URL_HERE" novalidate>
                        <!--
                            DEV NOTE: Replace action with your Mailchimp embed URL.
                            Example:
                                action="https://xxxx.usX.list-manage.com/subscribe/post?u=YOUR_U&id=YOUR_ID"
                        -->
                        <input type="email" name="EMAIL" id="email" required
                                     class="w-full sm:flex-1 rounded-md px-4 py-3 bg-black/60 border border-white/6 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600"
                                     placeholder="your@email.com" aria-label="Email address">

                        <!-- Honeypot field for Mailchimp spam protection (will be ignored by users) -->
                        <div style="position: absolute; left: -5000px;" aria-hidden="true">
                            <input type="text" name="b_xxx_xxx" tabindex="-1" value="">
                        </div>

                        <button type="submit" id="submitBtn"
                                        class="inline-flex items-center gap-2 rounded-md bg-purple-600/95 hover:bg-purple-500 px-4 py-3 text-sm font-semibold shadow-md transition">
                            <svg id="btnIcon" class="w-4 h-4 -ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>
                            </svg>
                            <span id="btnText">Notify me</span>
                        </button>
                    </form>

                    <p id="formMessage" class="mt-4 text-sm text-gray-400"></p>

                    <div class="mt-6 text-xs text-gray-600/60">
                        <span>DEV NOTE: Provide the correct Mailchimp connection later to enable real subscriptions.</span>
                    </div>
                </div>
            </section>

            <footer class="mt-6 text-center text-xs text-gray-600/50">
                <span>713 â€” prepared for secrets</span>
            </footer>
        </div>
    </main>

    <script>
        // Starfield generator
        (function populateStars() {
            const starCount = 45;
            const container = document.getElementById('starfield');
            const w = container.clientWidth || window.innerWidth;
            const h = container.clientHeight || window.innerHeight;
            for (let i = 0; i < starCount; i++) {
                const el = document.createElement('div');
                el.className = 'star';
                const size = Math.random() * 2 + 1;
                el.style.width = size + 'px';
                el.style.height = size + 'px';
                el.style.left = (Math.random() * 100) + '%';
                el.style.top = (Math.random() * 100) + '%';
                el.style.opacity = (Math.random() * 0.6 + 0.2).toString();
                el.style.filter = `drop-shadow(0 0 ${Math.random()*6}px rgba(110, 74, 255, ${Math.random()*0.8}))`;
                el.style.animation = `opacity ${2+Math.random()*4}s ease-in-out ${Math.random()*2}s infinite`;
                container.appendChild(el);
            }
        })();

        // Simple email validation
        function isEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        // UI helpers
        function showMessage(text, tone = 'info') {
            const el = document.getElementById('formMessage');
            el.textContent = text;
            el.className = 'mt-4 text-sm ' + (tone === 'error' ? 'text-red-400' : 'text-green-300');
        }

        // Form submit handling (placeholder behavior)
        document.getElementById('subscribeForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const email = document.getElementById('email').value.trim();
            const btn = document.getElementById('submitBtn');
            const btnText = document.getElementById('btnText');
            const btnIcon = document.getElementById('btnIcon');

            if (!isEmail(email)) {
                showMessage('Please enter a valid email address.', 'error');
                return;
            }

            // Visual feedback
            btn.disabled = true;
            btnText.textContent = 'Processing...';
            btnIcon.innerHTML = '<circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" opacity="0.5"></circle>';

            // Attempt to POST â€” Mailchimp usually blocks fetch due to CORS.
            // This will work if the action URL permits CORS or if you point to a proxy.
            const action = this.getAttribute('action');
            if (!action || action.includes('MAILCHIMP_FORM_ACTION_URL_HERE')) {
                // Placeholder behavior
                setTimeout(() => {
                    btn.disabled = false;
                    btnText.textContent = 'Notify me';
                    btnIcon.innerHTML = '<path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>';
                    showMessage('Subscription queued. Replace form action with your Mailchimp URL to enable real subscriptions.');
                }, 900);
                return;
            }

            // Build form body
            const formData = new FormData(this);
            // Convert to URL-encoded string
            const body = new URLSearchParams();
            for (const pair of formData.entries()) body.append(pair[0], pair[1]);

            fetch(action, {
                method: 'POST',
                mode: 'no-cors', // Mailchimp likely requires no-cors for cross-domain HTML form POSTs
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: body.toString()
            }).then(() => {
                // In no-cors mode we cannot inspect the response; assume success
                btn.disabled = false;
                btnText.textContent = 'Notify me';
                btnIcon.innerHTML = '<path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>';
                showMessage('Thanks â€” check your email for confirmation.');
            }).catch(err => {
                btn.disabled = false;
                btnText.textContent = 'Notify me';
                btnIcon.innerHTML = '<path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>';
                showMessage('Could not subscribe. See console for details.', 'error');
                console.error('Subscription error:', err);
            });
        });

        // Small ambient animation to hint "secret revealing"
        (function ambientPulse(){
            const sigil = document.getElementById('sigil');
            let reveal = false;
            setInterval(() => {
                reveal = !reveal;
                sigil.style.transform = reveal ? 'rotate(12deg) scale(1.04)' : 'rotate(-6deg) scale(0.98)';
                sigil.style.transition = 'transform 1400ms ease-in-out';
            }, 1400);
        })();
    </script>
</body>
</html>