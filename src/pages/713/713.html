<!--
    File: /g:/DEV/Coding Projects/PORTFOLIO/www.jeremyrobards.com/src/pages/713/713.html

    DEV NOTE:
    - Replace the form's "action" attribute with your Mailchimp embed URL:
        (looks like: https://xxxx.usX.list-manage.com/subscribe/post?u=YOUR_U&id=YOUR_ID)
    - Mailchimp often blocks CORS for fetch; if you need client-side AJAX subscribe,
        use Mailchimp's JSONP endpoint or submit the form to a hidden iframe.
    - For now this is a placeholder form that will POST to the provided action.
-->

<!doctype html>
<html lang="en" class="h-full bg-black text-white">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>713 — A Secret is Coming</title>

    <!-- Tailwind CDN for rapid prototyping -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* custom animations used with Tailwind utility classes */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .anim-float { animation: float 6s ease-in-out infinite; }

        @keyframes pulse-ghost {
            0% { opacity: 0.06; transform: scale(1); }
            50% { opacity: 0.22; transform: scale(1.02); }
            100% { opacity: 0.06; transform: scale(1); }
        }
        .anim-ghost { animation: pulse-ghost 4s ease-in-out infinite; }

        @keyframes flicker {
            0% { opacity: 1; filter: drop-shadow(0 0 12px rgba(120,43,255,0.6)); }
            5% { opacity: .4; filter: none; }
            10% { opacity: 1; filter: drop-shadow(0 0 18px rgba(120,43,255,0.8)); }
            100% { opacity: 1; }
        }
        .anim-flicker { animation: flicker 3.6s linear infinite; }

        /* starfield points */
        .star { width: 2px; height: 2px; background: rgba(255,255,255,0.85); border-radius: 999px; position: absolute; opacity: 0.9; }

        /* subtle glass panel */
        .glass {
            background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            backdrop-filter: blur(6px) saturate(120%);
            border: 1px solid rgba(255,255,255,0.04);
        }
    </style>
</head>
<body class="h-full antialiased selection:bg-purple-700 selection:text-white">

    <main class="min-h-screen flex items-center justify-center px-6">
        <div class="relative w-full max-w-3xl">

            <!-- starfield -->
            <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
                <div id="starfield" class="w-full h-full"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/30 to-black/80"></div>
            </div>

            <section class="glass rounded-2xl p-10 sm:p-16 text-center shadow-2xl">
                <div class="mx-auto max-w-xl">
                    <h1 class="text-6xl sm:text-7xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-indigo-400 to-cyan-300 drop-shadow-lg anim-flicker">
                        7 1 3
                    </h1>

                    <p class="mt-4 text-lg text-gray-300 anim-float">
                        Something secret is forming. A hush of code, a whisper of intent. Be ready.
                    </p>

                    <div class="mt-8">
                        <div class="inline-flex items-center gap-3">
                            <span class="inline-block w-3 h-3 rounded-full bg-purple-400 animate-pulse shadow-sm"></span>
                            <span class="text-sm text-gray-400">Secret drop — coming soon</span>
                        </div>
                    </div>

                    <!-- reveal animation placeholder -->
                    <div id="mystic" class="mt-8">
                        <div class="mx-auto w-40 h-40 rounded-full bg-gradient-to-br from-purple-900 via-indigo-900 to-black flex items-center justify-center shadow-inner anim-ghost">
                            <svg id="sigil" class="w-20 h-20 opacity-90" viewBox="0 0 24 24" fill="none" stroke="url(#g)" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                                <defs>
                                    <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                                        <stop offset="0" stop-color="#8b5cf6"/>
                                        <stop offset="1" stop-color="#06b6d4"/>
                                    </linearGradient>
                                </defs>
                                <circle cx="12" cy="12" r="7"></circle>
                                <path d="M8 12h8"></path>
                                <path d="M12 8v8"></path>
                            </svg>
                        </div>
                    </div>

                    <!-- subscription form (Mailchimp placeholder) -->
                    <form id="subscribeForm" class="mt-10 flex flex-col sm:flex-row gap-3 items-center justify-center" method="POST" action="MAILCHIMP_FORM_ACTION_URL_HERE" novalidate>
                        <!--
                            DEV NOTE: Replace action with your Mailchimp embed URL.
                            Example:
                                action="https://xxxx.usX.list-manage.com/subscribe/post?u=YOUR_U&id=YOUR_ID"
                        -->
                        <input type="email" name="EMAIL" id="email" required
                                     class="w-full sm:flex-1 rounded-md px-4 py-3 bg-black/60 border border-white/6 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600"
                                     placeholder="your@email.com" aria-label="Email address">

                        <!-- Honeypot field for Mailchimp spam protection (will be ignored by users) -->
                        <div style="position: absolute; left: -5000px;" aria-hidden="true">
                            <input type="text" name="b_xxx_xxx" tabindex="-1" value="">
                        </div>

                        <button type="submit" id="submitBtn"
                                        class="inline-flex items-center gap-2 rounded-md bg-purple-600/95 hover:bg-purple-500 px-4 py-3 text-sm font-semibold shadow-md transition">
                            <svg id="btnIcon" class="w-4 h-4 -ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>
                            </svg>
                            <span id="btnText">Notify me</span>
                        </button>
                    </form>

                    <p id="formMessage" class="mt-4 text-sm text-gray-400"></p>

                    <div class="mt-6 text-xs text-gray-600/60">
                        <span>DEV NOTE: Provide the correct Mailchimp connection later to enable real subscriptions.</span>
                    </div>
                </div>
            </section>

            <footer class="mt-6 text-center text-xs text-gray-600/50">
                <span>713 — prepared for secrets</span>
            </footer>
        </div>
    </main>

    <script>
        // Starfield generator
        (function populateStars() {
            const starCount = 45;
            const container = document.getElementById('starfield');
            const w = container.clientWidth || window.innerWidth;
            const h = container.clientHeight || window.innerHeight;
            for (let i = 0; i < starCount; i++) {
                const el = document.createElement('div');
                el.className = 'star';
                const size = Math.random() * 2 + 1;
                el.style.width = size + 'px';
                el.style.height = size + 'px';
                el.style.left = (Math.random() * 100) + '%';
                el.style.top = (Math.random() * 100) + '%';
                el.style.opacity = (Math.random() * 0.6 + 0.2).toString();
                el.style.filter = `drop-shadow(0 0 ${Math.random()*6}px rgba(110, 74, 255, ${Math.random()*0.8}))`;
                el.style.animation = `opacity ${2+Math.random()*4}s ease-in-out ${Math.random()*2}s infinite`;
                container.appendChild(el);
            }
        })();

        // Simple email validation
        function isEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        // UI helpers
        function showMessage(text, tone = 'info') {
            const el = document.getElementById('formMessage');
            el.textContent = text;
            el.className = 'mt-4 text-sm ' + (tone === 'error' ? 'text-red-400' : 'text-green-300');
        }

        // Form submit handling (placeholder behavior)
        document.getElementById('subscribeForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const email = document.getElementById('email').value.trim();
            const btn = document.getElementById('submitBtn');
            const btnText = document.getElementById('btnText');
            const btnIcon = document.getElementById('btnIcon');

            if (!isEmail(email)) {
                showMessage('Please enter a valid email address.', 'error');
                return;
            }

            // Visual feedback
            btn.disabled = true;
            btnText.textContent = 'Processing...';
            btnIcon.innerHTML = '<circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" opacity="0.5"></circle>';

            // Attempt to POST — Mailchimp usually blocks fetch due to CORS.
            // This will work if the action URL permits CORS or if you point to a proxy.
            const action = this.getAttribute('action');
            if (!action || action.includes('MAILCHIMP_FORM_ACTION_URL_HERE')) {
                // Placeholder behavior
                setTimeout(() => {
                    btn.disabled = false;
                    btnText.textContent = 'Notify me';
                    btnIcon.innerHTML = '<path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>';
                    showMessage('Subscription queued. Replace form action with your Mailchimp URL to enable real subscriptions.');
                }, 900);
                return;
            }

            // Build form body
            const formData = new FormData(this);
            // Convert to URL-encoded string
            const body = new URLSearchParams();
            for (const pair of formData.entries()) body.append(pair[0], pair[1]);

            fetch(action, {
                method: 'POST',
                mode: 'no-cors', // Mailchimp likely requires no-cors for cross-domain HTML form POSTs
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: body.toString()
            }).then(() => {
                // In no-cors mode we cannot inspect the response; assume success
                btn.disabled = false;
                btnText.textContent = 'Notify me';
                btnIcon.innerHTML = '<path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>';
                showMessage('Thanks — check your email for confirmation.');
            }).catch(err => {
                btn.disabled = false;
                btnText.textContent = 'Notify me';
                btnIcon.innerHTML = '<path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path>';
                showMessage('Could not subscribe. See console for details.', 'error');
                console.error('Subscription error:', err);
            });
        });

        // Small ambient animation to hint "secret revealing"
        (function ambientPulse(){
            const sigil = document.getElementById('sigil');
            let reveal = false;
            setInterval(() => {
                reveal = !reveal;
                sigil.style.transform = reveal ? 'rotate(12deg) scale(1.04)' : 'rotate(-6deg) scale(0.98)';
                sigil.style.transition = 'transform 1400ms ease-in-out';
            }, 1400);
        })();
    </script>
</body>
</html>